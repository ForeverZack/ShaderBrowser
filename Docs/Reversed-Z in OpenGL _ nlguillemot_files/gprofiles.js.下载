if("undefined"==typeof console){console={log:function(t){},debug:function(t){}}}var Gravatar={profile_stack:{},profile_map:{},overTimeout:false,outTimeout:false,stopOver:false,active_grav:false,active_hash:false,active_id:false,active_grav_clone:false,profile_cb:null,stats_queue:[],throbber:null,has_bg:false,disabled:false,url_prefix:"http://en",supportsPassiveEvents:false,testSupportsPassiveEvents:function(){try{var t=Object.defineProperty({},"passive",{get:function(){Gravatar.supportsPassiveEvents=true}});addEventListener("testPassive",null,t);removeEventListener("testPassive",null,t)}catch(t){}},disable:function(){Gravatar.disabled=true;Gravatar.hide_card();var t=new Date(2100,1,1,1,1,1);Gravatar.stat("disable");if(-1==window.location.host.search(/wordpress.com/i)){document.cookie="nohovercard=1; expires="+t.toUTCString()+";"}else{document.cookie="nohovercard=1; expires="+t.toUTCString()+"; domain=.wordpress.com; path=/"}},mouseOut:function(t){t.stopImmediatePropagation();Gravatar.stopOver=true;Gravatar.outTimeout=setTimeout(function(){Gravatar.hide_card()},300)},init:function(t,e){Gravatar.testSupportsPassiveEvents();var a=document.cookie.split(";"),r,i;for(r=0;r<a.length;r++){i=a[r];while(" "==i.charAt(0)){i=i.substring(1,i.length)}if(0==i.indexOf("nohovercard=1")){return}}if("https:"==window.location.protocol)this.url_prefix="https://secure";this.attach_profiles(t,e);this.add_card_css();var o=function(t){if(Gravatar.disabled){return}var e=t&&t.target;if(!e||!Gravatar.closest(e,"img.grav-hashed")){return}t.preventDefault();t.stopPropagation();if("mouseleave"==t.type||"mouseout"==t.type){return Gravatar.mouseOut.call(this,t)}Gravatar.stopOver=false;Gravatar.active_id=e.getAttribute("id");Gravatar.active_hash=Gravatar.active_id.split("-")[1];Gravatar.untilt_gravatar();clearTimeout(Gravatar.overTimeout);if(false===Gravatar.profile_map["g"+Gravatar.active_hash]){return}Gravatar.stat("hover");clearTimeout(Gravatar.outTimeout);Gravatar.tilt_gravatar();Gravatar.fetch_profile_by_hash(Gravatar.active_hash,Gravatar.active_id);Gravatar.overTimeout=setTimeout(function(){Gravatar.show_card()},600)};document.body.addEventListener("mouseover",o);document.body.addEventListener("mouseout",o);var s=function(t){if(Gravatar.disabled){return}var e=t&&t.target;if(!e){return}if(!Gravatar.closest(e,"div.gcard, img.grav-clone")){return}t.preventDefault();t.stopPropagation();if(t.type=="mouseenter"||t.type=="mouseover"){Gravatar.stopOver=false;clearTimeout(Gravatar.outTimeout)}else{Gravatar.mouseOut.call(this,t)}};document.body.addEventListener("mouseover",s);document.body.addEventListener("mouseout",s);addEventListener("scroll",function(){if(!Gravatar.active_hash.length){return}Gravatar.hide_card()},Gravatar.supportsPassiveEvents?{passive:true}:false)},attach_profiles:function(t,e){setInterval(Gravatar.send_stats,3e3);t="undefined"==typeof t?"body":t;if(e&&"string"==typeof e){var a=document.querySelectorAll(e);for(var r=0;r<a.length;r++){a[r].classList.add("no-grav")}}var i=document.querySelectorAll(t+' img[src*="gravatar.com/avatar"]');for(var r=0;r<i.length;r++){var o=i[r];var s=Gravatar.extract_hash(o);var n=0;if(document.querySelector("#grav-"+s+"-"+n)){while(document.querySelector("#grav-"+s+"-"+n)){n++}}o.setAttribute("id","grav-"+s+"-"+n);o.setAttribute("title","");o.removeAttribute&&o.removeAttribute("title");if(o.parentNode&&o.parentNode.tagName==="A"){o.parentNode.setAttribute("title","");o.parentNode.removeAttribute&&o.parentNode.removeAttribute("title")}o.classList.add("grav-hashed");if(Gravatar.closest(o,"#comments, .comments, #commentlist, .commentlist, .grav-hijack")||!Gravatar.closest(o,"a")){o.classList.add("grav-hijack")}}},show_card:function(){if(Gravatar.stopOver){return}dom_id=this.profile_map["g"+Gravatar.active_hash];var t=document.querySelectorAll(".gcard");for(var e=0;e<t.length;e++){t[e].classList.add("hidden")}if("fetching"==this.profile_stack["g"+Gravatar.active_hash]){Gravatar.show_throbber();this.listen(Gravatar.active_hash,"show_card");Gravatar.stat("wait");return}if("undefined"==typeof this.profile_stack["g"+Gravatar.active_hash]){Gravatar.show_throbber();this.listen(Gravatar.active_hash,"show_card");this.fetch_profile_by_hash(Gravatar.active_hash,dom_id);return}Gravatar.stat("show");Gravatar.hide_throbber();if(!document.querySelector("#profile-"+this.active_hash)){this.build_card(this.active_hash,this.profile_stack["g"+this.active_hash])}this.render_card(this.active_grav,"profile-"+this.active_hash)},hide_card:function(){clearTimeout(Gravatar.overTimeout);this.untilt_gravatar();var t=document.querySelector("#profile-"+this.active_hash+".gcard");if(t){Gravatar.fadeOut(t)}},render_card:function(t,e){var a=document.querySelector("#"+e);var r=Gravatar.getOffsets(t);var i=t&&t.getBoundingClientRect();var o=window.pageXOffset||document.documentElement.scrollLeft||0;if(null!=r){var s=i.width;var n=i.height;var l=5+s*.4;var c=a.getBoundingClientRect();var v=c.width;var f=c.height;if(v===window.innerWidth){v=400;f=200}var d=r.left-17;var u=r.top-7;var h="pos-right";if(r.left+s+l+v>window.innerWidth+o){d=r.left-v+s+17;h="pos-left"}var p=n*.25;a.classList.remove("pos-right","pos-left","hidden");a.classList.add(h);a.style.top=u-p+"px";a.style.left=d+"px";var g=n/2;g=Math.min(g,f/2-6,53);if(this.has_bg){g=g-8}g=Math.max(g,0);var m=document.querySelector("#"+e+" .grav-cardarrow");m.style.height=2*n+p+"px";m.style.backgroundPosition="0px "+g+"px";if("pos-right"==h){m.style.right="auto";m.style.left="-7px"}else{m.style.right="-10px";m.style.left="auto"}}Gravatar.fadeIn(a)},build_card:function(t,e){function a(t){var e=0,a;for(a in t){if(t.hasOwnProperty(a)){e++}}return e}GProfile.init(e);var r=GProfile.get("urls");var i=GProfile.get("photos");var o=GProfile.get("accounts");var s=100;if(a(r)>3){s+=90}else{s+=10+20*a(r)}if(a(o)>0){s+=30}var n=GProfile.get("aboutMe");n=n.replace(/<[^>]+>/gi,"");n=n.toString().substr(0,s);if(s==n.length){n+='<a href="'+GProfile.get("profileUrl")+'" target="_blank">&#8230;</a>'}var l=["grav-inner"];if(Gravatar.my_hash&&t==Gravatar.my_hash){l.push("grav-is-user");if(!n.length){n="<p>Want a better profile? <a class='grav-edit-profile' href='http://gravatar.com/profiles/edit/?noclose' target='_blank'>Click here</a>.</p>"}}if(n.length){l.push("gcard-about")}name=GProfile.get("displayName");if(!name.length){name=GProfile.get("preferredUsername")}var c='<div id="profile-'+t+'" class="gcard grofile"> \t\t\t\t\t\t<div class="grav-inner"> \t\t\t\t\t\t\t<div class="grav-grav"> \t\t\t\t\t\t\t\t<a href="'+GProfile.get("profileUrl")+'" target="_blank"> \t\t\t\t\t\t\t\t\t<img src="'+GProfile.get("thumbnailUrl")+'?s=100&r=pg&d=mm" width="100" height="100" /> \t\t\t\t\t\t\t\t</a> \t\t\t\t\t\t\t</div> \t\t\t\t\t\t\t<div class="grav-info"> \t\t\t\t\t\t\t\t<h4><a href="'+GProfile.get("profileUrl")+'" target="_blank">'+name+'</a></h4> \t\t\t\t\t\t\t\t<p class="grav-loc">'+GProfile.get("currentLocation")+'</p> \t\t\t\t\t\t\t\t<p class="grav-about">'+n+'</p> \t\t\t\t\t\t\t\t<div class="grav-view-complete-button"> \t\t\t\t\t\t\t\t\t<a href="'+GProfile.get("profileUrl")+'" target="_blank" class="grav-view-complete">View Complete Profile</a> \t\t\t\t\t\t\t\t</div> \t\t\t\t\t\t\t\t<p class="grav-disable"><a href="#" onclick="Gravatar.disable(); return false">Turn off hovercards</a></p> \t\t\t\t\t\t\t</div> \t\t\t\t\t\t\t<div style="clear:both"></div> \t\t\t\t\t\t</div> \t\t\t\t\t\t<div class="grav-cardarrow"></div> \t\t\t\t\t\t<div class="grav-tag"><a href="http://gravatar.com/" title="Powered by Gravatar.com" target="_blank">&nbsp;</a></div> \t\t\t\t\t</div>';document.body.insertAdjacentHTML("beforeend",c);var v=document.querySelector("#profile-"+t+" .grav-inner");for(var f=0;f<l.length;f++){v.classList.add(l[f])}this.has_bg=false;var d=GProfile.get("profileBackground");if(a(d)){this.has_bg=true;var e=document.querySelector("#profile-"+t);e.style.padding="8px 0";if(d.color){e.style.backgroundColor=d.color}if(d.url){e.style.backgroundImage="url("+d.url+")"}if(d.position){e.style.backgroundPosition=d.position}if(d.repeat){e.style.backgroundRepeat=d.repeat}document.querySelector("#profile-"+t+" .grav-tag").style.top="8px"}if(!document.querySelector("#profile-"+t+" .gcard-links")&&!document.querySelector("#profile-"+t+" .gcard-services")){var u=document.querySelector("#profile-"+t+" .grav-rightcol");if(u){u.style.width="auto"}}if(!document.querySelector("#profile-"+t+" .gcard-about")){var h=document.querySelector("#profile-"+t+" .grav-leftcol");if(h){h.style.width="auto"}}if(typeof Gravatar.profile_cb==="function"){Gravatar.loaded_js(t,"profile-"+t)}function p(t,e,a){var r=document.querySelectorAll(t);for(var i=0;i<r.length;i++){r[i].addEventListener(e,a)}}p("#profile-"+t+" a.grav-extra-comments","click",function(t){return Gravatar.stat("click_comment",t)});p("#profile-"+t+" a.grav-extra-likes","click",function(t){return Gravatar.stat("click_like",t)});p("#profile-"+t+" .grav-links a","click",function(t){return Gravatar.stat("click_link",t)});p("#profile-"+t+" .grav-services a","click",function(t){return Gravatar.stat("click_service",t)});p("#profile-"+t+" h4 a, #profile-"+t+" .grav-view-complete, #profile-"+t+" .grav-grav a","click",function(t){return Gravatar.stat("to_profile",t)});p("#profile-"+t+" .grav-tag a","click",function(t){if(3==t.which||2==t.button||t.altKey||t.metaKey||t.ctrlKey){t.preventDefault();t.stopImmediatePropagation();Gravatar.stat("egg");return Gravatar.whee()}return Gravatar.stat("to_gravatar",t)});p("#profile-"+t+" .grav-tag a","contextmenu",function(t){t.preventDefault();t.stopImmediatePropagation();Gravatar.stat("egg");return Gravatar.whee()});p("#profile-"+t+" a.grav-edit-profile","click",function(t){return Gravatar.stat("click_edit_profile",t)})},tilt_gravatar:function(){this.active_grav=document.querySelector("img#"+this.active_id);if(document.querySelector("img#grav-clone-"+this.active_hash)){return}this.active_grav_clone=this.active_grav.cloneNode();this.active_grav_clone.setAttribute("id","grav-clone-"+this.active_hash);this.active_grav_clone.classList.add("grav-clone");var t=Gravatar.getOffsets(this.active_grav)||{left:0,top:0};var e=getComputedStyle(this.active_grav);var a=t.top+parseInt(e.paddingTop,10);var r=t.left+parseInt(e.paddingLeft,10);var i=document.createElement("div");if(this.active_grav.classList.contains("grav-hijack")){i.innerHTML='<a href="http://gravatar.com/'+this.active_hash+'" class="grav-clone-a" target="_blank"></a>'}else{var o=Gravatar.closest(this.active_grav,"a");i.appendChild(o.cloneNode(false))}this.active_grav_clone.classList.add("grav-tilt");this.active_grav_clone.style.borderBottomWidth=this.active_grav.getBoundingClientRect().height/5+"px";var s=i.firstChild;s.appendChild(this.active_grav_clone);s.classList.add("grav-tilt-parent");s.style.top=a+"px";s.style.left=r+"px";document.body.appendChild(s);this.active_grav_clone.classList.remove("grav-hashed")},untilt_gravatar:function(){var t=document.querySelectorAll("img.grav-clone, a.grav-clone-a");for(var e=0;e<t.length;e++){var a=t[e];if(a.remove){a.remove()}else{a.parentNode&&a.parentNode.removeChild(a)}}Gravatar.hide_throbber()},show_throbber:function(){if(!Gravatar.throbber){var t=document.createElement("div");t.innerHTML='<div id="grav-throbber" class="grav-throbber"><img src="'+this.url_prefix+'.gravatar.com/images/throbber.gif" alt="." width="15" height="15" /></div>';Gravatar.throbber=t.firstChild}document.body.appendChild(Gravatar.throbber);var e=Gravatar.getOffsets(document.querySelector("#"+Gravatar.active_id))||{left:0,top:0};Gravatar.throbber.style.top=e.top+2+"px";Gravatar.throbber.style.left=e.left+1+"px"},hide_throbber:function(){if(!Gravatar.throbber){return}if(Gravatar.throbber.remove){Gravatar.throbber.remove()}else{Gravatar.throbber.parentNode&&Gravatar.throbber.parentNode.removeChild(Gravatar.throbber)}},closest:function(t,e){if(t.closest){return t.closest(e)}var a=Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector;var r=t;do{var i=a.bind(r);if(i(e)){return r}r=r.parentElement||r.parentNode}while(r!==null&&r.nodeType===1);return null},getOffsets:function(t){if(!t){return null}var e=window.pageXOffset||document.documentElement.scrollLeft||0;var a=window.pageYOffset||document.documentElement.scrollTop||0;var r=t.getBoundingClientRect();return{left:r.left+e,top:r.top+a}},afterAnimation:function(e,a,r){if(e&&r){var i=false;var o=function(t){if(t&&t.type==="transitionend"&&t.propertyName!==a){return}if(!i){i=true;r()}if(e){e.removeEventListener("transitionend",o)}};e.addEventListener("transitionend",o);setTimeout(o,200)}},fadeIn:function(t,e){t.classList.remove("hidden");t.classList.add("fadeout");requestAnimationFrame(function(){requestAnimationFrame(function(){t.classList.remove("fadeout");t.classList.add("fading","fadein");Gravatar.afterAnimation(t,"opacity",function(){t.classList.remove("fading","fadein");if(e){e()}})})})},fadeOut:function(t,e){t.classList.add("fadein");requestAnimationFrame(function(){requestAnimationFrame(function(){t.classList.remove("fadein");t.classList.add("fading","fadeout");Gravatar.afterAnimation(t,"opacity",function(){t.classList.remove("fading","fadeout");t.classList.add("hidden");if(e){e()}})})})},fetch_profile_by_hash:function(t,e){this.profile_map["g"+t]=e;if(this.profile_stack["g"+t]&&"object"==typeof this.profile_stack["g"+t]){return this.profile_stack["g"+t]}this.profile_stack["g"+t]="fetching";Gravatar.stat("fetch");this.load_js(this.url_prefix+".gravatar.com/"+t+".json?callback=Gravatar.fetch_profile_callback",function(){Gravatar.fetch_profile_error(t,e)})},fetch_profile_callback:function(t){if(!t||"object"!=typeof t){return}this.profile_stack["g"+t.entry[0].hash]=t;this.notify(t.entry[0].hash)},fetch_profile_error:function(t,e){Gravatar.stat("profile_404");Gravatar.profile_map["g"+t]=false;var a=document.querySelector("#"+e);var r=a.parentNode;var i=r&&r.parentNode;if(i&&i.querySelector('a[href="http://gravatar.com/'+t+'"]')===r){i.replaceChild(a,r)}if(e==Gravatar.active_id){Gravatar.hide_card()}},listen:function(t,e){if(!this.notify_stack){this.notify_stack={}}t="g"+t;if(!this.notify_stack[t]){this.notify_stack[t]=[]}for(a=0;a<this.notify_stack[t].length;a++){if(e==this.notify_stack[t][a]){return}}this.notify_stack[t][this.notify_stack[t].length]=e},notify:function(t){if(!this.notify_stack){this.notify_stack={}}t="g"+t;if(!this.notify_stack[t]){this.notify_stack[t]=[]}for(a=0;a<this.notify_stack[t].length;a++){if(false==this.notify_stack[t][a]||"undefined"==typeof this.notify_stack[t][a]){continue}Gravatar[this.notify_stack[t][a]](t.substr(1));this.notify_stack[t][a]=false}},extract_hash:function(t){var e=t&&t.getAttribute("src")||"";hash=/gravatar.com\/avatar\/([0-9a-f]{32})/.exec(e);if(null!=hash&&"object"==typeof hash&&2==hash.length){hash=hash[1]}else{hash=/gravatar_id\=([0-9a-f]{32})/.exec(e);if(null!==hash&&"object"==typeof hash&&2==hash.length){hash=hash[1]}else{return false}}return hash},load_js:function(t,e){if(!this.loaded_scripts){this.loaded_scripts=[]}if(this.loaded_scripts[t]){return}this.loaded_scripts[t]=true;var a=document.createElement("script");a.src=t;a.type="text/javascript";if(typeof e==="function"){a.onerror=e}document.head.appendChild(a)},loaded_js:function(t,e){Gravatar.profile_cb(t,e)},add_card_css:function(){if(document.querySelector("#gravatar-card-css")){return}var t=document.querySelector('script[src*="/js/gprofiles."]');var e=t&&(t.getAttribute("src")||false);var a,r=false;if(e){a=e.replace(/\/js\/gprofiles(?:\.dev)?\.js.*$/,"");r=e.split("?")[1]||false}else{a="//s.gravatar.com"}if(!r){var i=new Date,o=new Date(i.getFullYear(),0,1),r=Math.ceil(((i-o)/864e5+o.getDay()+1)/7),r="ver="+i.getFullYear().toString()+r.toString()}a=a.replace(/^(https?\:)?\/\//,"");a=window.location.protocol+"//"+a;new_css="<link rel='stylesheet' type='text/css' id='gravatar-card-css' href='"+a+"/dist/css/hovercard.min.css?"+r+"' />";if(!document.querySelector("#gravatar-card-services-css")){new_css+="<link rel='stylesheet' type='text/css' id='gravatar-card-services-css' href='"+a+"/dist/css/services.min.css?"+r+"' />"}document.head.insertAdjacentHTML("beforeend",new_css)},whee:function(){if(Gravatar.whee.didWhee){return}Gravatar.whee.didWhee=true;if(document.styleSheets&&document.styleSheets[0]){document.styleSheets[0].insertRule(".grav-tag a { background-position: 22px 100% !important }",0)}else{var t=document.querySelectorAll(".grav-tag a");for(var e=0;e<t.length;e++){t[e].style.backgroundPosition="22px 100%"}}var a=document.querySelectorAll('img[src*="gravatar.com/"]');for(var e=0;e<a.length;e++){a[e].classList.add("grav-whee")}return false},stat:function(t,e){Gravatar.stats_queue.push(t);if(e){var a=e.metaKey||"_blank"===(e.currentTarget&&e.currentTarget.getAttribute("target"));Gravatar.send_stats(function(){if(a){return}document.location=e.currentTarget.href});return a}if(Gravatar.stats_queue.length>10){Gravatar.send_stats()}},send_stats:function(t){if(!document.images){return}var e=Gravatar.stats_queue;if(!e.length){return}var a=new Date;Gravatar.stats_queue=[];var r="https://pixel.wp.com/g.gif?v=wpcom2&x_grav-hover="+e.join(",")+"&rand="+Math.random().toString()+"-"+a.getTime();var i=new Image(1,1);if(typeof t==="function"){i.onload=t}i.src=r}};var GProfile={data:{},init:function(t){if("fetching"==t){return false}if("undefined"==typeof t.entry[0]){return false}GProfile.data=t.entry[0]},get:function(t){if(-1!=t.indexOf(".")){parts=t.split(/\./);if(GProfile.data[parts[0]]){if(GProfile.data[parts[0]][parts[1]]){return GProfile.data[parts[0]][parts[1]]}for(i=0,s=GProfile.data[parts[0]].length;i<s;i++){if(GProfile.data[parts[0]][i].type&&parts[1]==GProfile.data[parts[0]][i].type||GProfile.data[parts[0]][i].shortname&&parts[1]==GProfile.data[parts[0]][i].shortname||GProfile.data[parts[0]][i].primary&&parts[1]=="primary"){return GProfile.data[parts[0]][i]}}}return""}if(GProfile.data[t]){return GProfile.data[t]}if("url"==t){if(GProfile.data.urls.length){return GProfile.data.urls[0].value}}return""}};